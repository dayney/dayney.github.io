import{_ as s,c as i,o as a,V as t}from"./chunks/framework.CsbsVE7l.js";const y=JSON.parse('{"title":"数据类型命名约定","description":"数据类型命名约定规范指南","frontmatter":{"title":"数据类型命名约定","description":"数据类型命名约定规范指南"},"headers":[],"relativePath":"frontend/engineering/guide/data-type-naming.md","filePath":"frontend/engineering/guide/data-type-naming.md","lastUpdated":1764225515000}'),n={name:"frontend/engineering/guide/data-type-naming.md"},e=t(`<h1 id="数据类型命名约定与使用场景" tabindex="-1">数据类型命名约定与使用场景 <a class="header-anchor" href="#数据类型命名约定与使用场景" aria-label="Permalink to &quot;数据类型命名约定与使用场景&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>这里只是作为参考，知道后端命名，后续看到XXXVO、XXXDTO、XXXDO / XXXEntity，知道是什么意思，方便快速排查问题。</p></div><blockquote><p>适用范围：<code>endiop-process-web</code> 全工程（前端 / BFF / 后端），覆盖 BPM、CRM、ERP 等业务模块。</p></blockquote><h2 id="_1-为什么需要区分" tabindex="-1">1. 为什么需要区分？ <a class="header-anchor" href="#_1-为什么需要区分" aria-label="Permalink to &quot;1. 为什么需要区分？&quot;">​</a></h2><ul><li><strong>语义清晰</strong>：看到类型名即可判断所处层次（请求参数 / 展示数据 / 存储实体）。</li><li><strong>隔离变化</strong>：UI 变更改 VO、接口校验改 DTO、表结构调整改 DO，不互相影响。</li><li><strong>安全合规</strong>：避免直接把数据库敏感字段暴露给前端；DTO 只暴露白名单字段。</li><li><strong>协作效率</strong>：多人协同或新人接入时，减少“字段到底来自哪里”的沟通成本。</li></ul><h2 id="_2-快速对照表" tabindex="-1">2. 快速对照表 <a class="header-anchor" href="#_2-快速对照表" aria-label="Permalink to &quot;2. 快速对照表&quot;">​</a></h2><table><thead><tr><th>类型后缀</th><th>全称</th><th>主要作用</th><th>常见场景</th><th>命名示例</th></tr></thead><tbody><tr><td><code>VO</code></td><td>View Object</td><td>提供给前端 / 视图层的数据</td><td>Controller 响应、列表/详情展示、导出</td><td><code>ProcessDefinitionVO</code>、<code>UserProfileVO</code></td></tr><tr><td><code>DTO</code></td><td>Data Transfer Object</td><td>接收外部入参、服务之间的数据交换</td><td>Controller 入参、RPC/Service 调用参数</td><td><code>ProcessModelCreateDTO</code>、<code>UserQueryDTO</code></td></tr><tr><td><code>DO</code> / <code>Entity</code></td><td>Data Object / Entity</td><td>数据库存储实体、领域模型</td><td>ORM 映射、领域层聚合根</td><td><code>SysUserDO</code>、<code>ProcessInstanceEntity</code></td></tr></tbody></table><blockquote><p>约定：如无特殊说明，后端 REST 接口 <strong>输入 DTO，输出 VO</strong>；DAO 层仅操作 DO。</p></blockquote><h2 id="_3-各类型使用指南" tabindex="-1">3. 各类型使用指南 <a class="header-anchor" href="#_3-各类型使用指南" aria-label="Permalink to &quot;3. 各类型使用指南&quot;">​</a></h2><h3 id="_3-1-vo-view-object" tabindex="-1">3.1 VO（View Object） <a class="header-anchor" href="#_3-1-vo-view-object" aria-label="Permalink to &quot;3.1 VO（View Object）&quot;">​</a></h3><ul><li><strong>位置</strong>：<code>controller</code> 响应体、<code>/src/api/**</code> 中的响应类型。</li><li><strong>职责</strong>： <ul><li>聚合/裁剪后端数据，贴合前端视图需要；</li><li>可包含格式化字段，如 <code>statusLabel</code>、<code>processVersionLabel</code>；</li><li>不承载业务逻辑，保持轻量。</li></ul></li><li><strong>命名</strong>：<code>&lt;Domain&gt;&lt;用途&gt;VO</code>，例如 <code>ProcessModelDetailVO</code>。</li><li><strong>反例</strong>：直接把 DO 返回给前端，暴露内部字段或缺少 UI 需要的文案。</li></ul><h3 id="_3-2-dto-data-transfer-object" tabindex="-1">3.2 DTO（Data Transfer Object） <a class="header-anchor" href="#_3-2-dto-data-transfer-object" aria-label="Permalink to &quot;3.2 DTO（Data Transfer Object）&quot;">​</a></h3><ul><li><strong>位置</strong>：<code>controller</code> 入参模型、<code>service</code>/RPC 之间的调用参数。</li><li><strong>职责</strong>： <ul><li>封装请求参数，配合校验注解（如 <code>@IsString</code>）；</li><li>过滤多余字段，避免直接绑定前端对象；</li><li>记录分页、排序、过滤等“请求意图”。</li></ul></li><li><strong>命名</strong>：<code>&lt;Domain&gt;&lt;行为&gt;DTO</code>，如 <code>ProcessModelCreateDTO</code>、<code>ProcessModelQueryDTO</code>。</li><li><strong>反例</strong>：使用 DO 作为接口入参，导致持久化字段被前端修改。</li></ul><h3 id="_3-3-do-entity-data-object-entity" tabindex="-1">3.3 DO / Entity（Data Object / Entity） <a class="header-anchor" href="#_3-3-do-entity-data-object-entity" aria-label="Permalink to &quot;3.3 DO / Entity（Data Object / Entity）&quot;">​</a></h3><ul><li><strong>位置</strong>：<code>repository</code>/<code>mapper</code> 层，或 DDD 领域实体。</li><li><strong>职责</strong>： <ul><li>与数据库表一一对应，包含 ID、创建时间、逻辑删除标记等；</li><li>可包含领域逻辑（若遵循 DDD），也可以是纯数据结构（如 MyBatis DO）。</li></ul></li><li><strong>命名</strong>：<code>&lt;Domain&gt;DO</code>（面向存储）或 <code>&lt;Domain&gt;Entity</code>（面向领域）。</li><li><strong>反例</strong>：将 VO/DTO 直接持久化，增加耦合且难以追踪字段来源。</li></ul><h2 id="_4-典型数据流-命名切换" tabindex="-1">4. 典型数据流 &amp; 命名切换 <a class="header-anchor" href="#_4-典型数据流-命名切换" aria-label="Permalink to &quot;4. 典型数据流 &amp; 命名切换&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>前端表单 -&gt; DTO -&gt; Service -&gt; DO -&gt; 数据库</span></span>
<span class="line"><span>                                ↓</span></span>
<span class="line"><span>                             (查询)</span></span>
<span class="line"><span>                                ↓</span></span>
<span class="line"><span>                          DO -&gt; VO -&gt; 前端展示</span></span></code></pre></div><ol><li><strong>前端提交表单</strong>：发送 <code>ProcessModelCreateDTO</code>。</li><li><strong>Controller 接收 DTO</strong>：校验后交给 Service，转换成 <code>ProcessModelDO</code>。</li><li><strong>Service/DAO 写库</strong>：<code>ProcessModelDO</code> -&gt; DB。</li><li><strong>查询详情</strong>：DAO 返回 <code>ProcessModelDO</code>。</li><li><strong>转换为 VO</strong>：Service 组装并返回 <code>ProcessModelDetailVO</code> 给前端。</li></ol><h2 id="_5-编写建议与-checklist" tabindex="-1">5. 编写建议与 checklist <a class="header-anchor" href="#_5-编写建议与-checklist" aria-label="Permalink to &quot;5. 编写建议与 checklist&quot;">​</a></h2><ul><li><strong>保持单向转换</strong>：DTO -&gt; DO -&gt; VO，避免 VO 再写回数据库。</li><li><strong>字段命名一致</strong>：除非前端需要重命名，优先复用原字段名。</li><li><strong>必要注释</strong>：关键字段（如状态值、类型枚举）必须在类型定义上加注释。</li><li><strong>新增接口时先定义 DTO/VO</strong>：明确出入参，避免临时拼接 <code>Record&lt;string, any&gt;</code>。</li><li><strong>提交流程</strong>：新增类型的同时在接口文档或 README 中补充用途说明。</li></ul><h2 id="_6-模板示例" tabindex="-1">6. 模板示例 <a class="header-anchor" href="#_6-模板示例" aria-label="Permalink to &quot;6. 模板示例&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// DTO：Controller 入参</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProcessModelCreateDTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /** 流程编码 */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /** 流程名称 */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /** 分类字典值 */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  category</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// DO：数据库实体</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProcessModelDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  category</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  createTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// VO：返回给前端</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProcessModelDetailVO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  categoryLabel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  statusLabel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  processVersionLabel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="_7-常见问题-faq" tabindex="-1">7. 常见问题 FAQ <a class="header-anchor" href="#_7-常见问题-faq" aria-label="Permalink to &quot;7. 常见问题 FAQ&quot;">​</a></h2><ul><li><p><strong>Q：一定要定义三套吗？</strong><br> A：视复杂度而定，轻量 CRUD 可复用 DTO/VO，但 DO 仍需独立保持与数据库一致。</p></li><li><p><strong>Q：前端直接用 DO 会怎样？</strong><br> A：容易暴露内部字段、出现耦合，尤其是包含权限字段、密钥等敏感信息时很危险。</p></li><li><p><strong>Q：字段很多维护成本高怎么办？</strong><br> A：利用 TypeScript 的 <code>Pick</code>/<code>Omit</code> 或工具函数生成，仍保持命名后缀区分角色。</p></li></ul><hr><blockquote><p>建议：所有新增模块在立项时先套用本指南，明确 DTO/VO/DO，并在代码审查中检查命名后缀是否与用途匹配。</p></blockquote>`,26),l=[e];function r(h,o,p,d,k,c){return a(),i("div",null,l)}const E=s(n,[["render",r]]);export{y as __pageData,E as default};
