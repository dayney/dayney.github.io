import{_ as i,c as s,o as a,V as e}from"./chunks/framework.CsbsVE7l.js";const y=JSON.parse('{"title":"官方风格指南摘录：优先级 A（必要，规避错误）与优先级 B（强烈推荐，增强可读性）","description":"","frontmatter":{"outline":"deep","editLink":false},"headers":[],"relativePath":"efficiency/ai/style-guides/typescript-style-guide.md","filePath":"efficiency/ai/style-guides/typescript-style-guide.md","lastUpdated":1763454746000}'),t={name:"efficiency/ai/style-guides/typescript-style-guide.md"},l=e(`<h1 id="官方风格指南摘录-优先级-a-必要-规避错误-与优先级-b-强烈推荐-增强可读性" tabindex="-1">官方风格指南摘录：优先级 A（必要，规避错误）与优先级 B（强烈推荐，增强可读性） <a class="header-anchor" href="#官方风格指南摘录-优先级-a-必要-规避错误-与优先级-b-强烈推荐-增强可读性" aria-label="Permalink to &quot;官方风格指南摘录：优先级 A（必要，规避错误）与优先级 B（强烈推荐，增强可读性）&quot;">​</a></h1><p>依据：</p><ul><li>TypeScript Handbook: <a href="https://www.typescriptlang.org/docs/handbook/intro.html" target="_blank" rel="noreferrer">https://www.typescriptlang.org/docs/handbook/intro.html</a></li></ul><p>说明：本文档以 A/B 结构为主，将原有项目级约定融合为“项目强化（PJ）”条目，统一正例/反例、检查清单与工具映射。</p><hr><h2 id="优先级-a-必要-规避错误" tabindex="-1">优先级 A：必要（规避错误） <a class="header-anchor" href="#优先级-a-必要-规避错误" aria-label="Permalink to &quot;优先级 A：必要（规避错误）&quot;">​</a></h2><h3 id="a-1-禁止滥用-any-启用严格模式-pj" tabindex="-1">A-1 禁止滥用 any，启用严格模式（PJ） <a class="header-anchor" href="#a-1-禁止滥用-any-启用严格模式-pj" aria-label="Permalink to &quot;A-1 禁止滥用 any，启用严格模式（PJ）&quot;">​</a></h3><ul><li>规则：<code>strict: true</code>、<code>noImplicitAny: true</code>；无法确定类型使用 <code>unknown</code> 并做类型收窄，禁止随意 <code>@ts-ignore</code>。</li><li>反例：<div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @ts-ignore</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> foo </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> unknown</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Bar</span></span></code></pre></div></li></ul><h3 id="a-2-导出-api-必须显式类型-pj" tabindex="-1">A-2 导出 API 必须显式类型（PJ） <a class="header-anchor" href="#a-2-导出-api-必须显式类型-pj" aria-label="Permalink to &quot;A-2 导出 API 必须显式类型（PJ）&quot;">​</a></h3><ul><li>规则：对外导出的对象/函数/组件的入参与返回值必须有显式类型。</li><li>正例：<div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b }</span></span></code></pre></div></li></ul><h3 id="a-3-模型归档与命名-pj" tabindex="-1">A-3 模型归档与命名（PJ） <a class="header-anchor" href="#a-3-模型归档与命名-pj" aria-label="Permalink to &quot;A-3 模型归档与命名（PJ）&quot;">​</a></h3><ul><li>规则：接口/数据模型在 <code>src/types/**</code> 维护，命名使用 PascalCase（如 <code>UserProfile</code>）。</li></ul><h3 id="a-4-api-请求-响应模型分离-pj" tabindex="-1">A-4 API 请求/响应模型分离（PJ） <a class="header-anchor" href="#a-4-api-请求-响应模型分离-pj" aria-label="Permalink to &quot;A-4 API 请求/响应模型分离（PJ）&quot;">​</a></h3><ul><li>规则：请求与响应定义独立 <code>interface</code>/<code>type</code> 并与实现分离，便于演进。</li></ul><hr><h2 id="优先级-b-强烈推荐-增强可读性" tabindex="-1">优先级 B：强烈推荐（增强可读性） <a class="header-anchor" href="#优先级-b-强烈推荐-增强可读性" aria-label="Permalink to &quot;优先级 B：强烈推荐（增强可读性）&quot;">​</a></h2><h3 id="b-1-interface-与-type-的取舍-通用实践" tabindex="-1">B-1 interface 与 type 的取舍（通用实践） <a class="header-anchor" href="#b-1-interface-与-type-的取舍-通用实践" aria-label="Permalink to &quot;B-1 interface 与 type 的取舍（通用实践）&quot;">​</a></h3><ul><li>规则：对象结构优先 <code>interface</code>，联合/交叉/映射类型使用 <code>type</code>。</li></ul><h3 id="b-2-利用类型推断-避免重复注解-pj" tabindex="-1">B-2 利用类型推断，避免重复注解（PJ） <a class="header-anchor" href="#b-2-利用类型推断-避免重复注解-pj" aria-label="Permalink to &quot;B-2 利用类型推断，避免重复注解（PJ）&quot;">​</a></h3><ul><li>正例：<code>const count = ref(0)</code> 无需额外 <code>: number</code> 注解。</li></ul><h3 id="b-3-有限集建模-通用实践" tabindex="-1">B-3 有限集建模（通用实践） <a class="header-anchor" href="#b-3-有限集建模-通用实践" aria-label="Permalink to &quot;B-3 有限集建模（通用实践）&quot;">​</a></h3><ul><li>规则：使用字面量联合/枚举表示有限取值；跨模块常量至 <code>src/utils/constants.ts</code>。</li></ul><h3 id="b-4-vue-相关类型完善-pj" tabindex="-1">B-4 Vue 相关类型完善（PJ） <a class="header-anchor" href="#b-4-vue-相关类型完善-pj" aria-label="Permalink to &quot;B-4 Vue 相关类型完善（PJ）&quot;">​</a></h3><ul><li>规则：为 <code>props</code>/<code>emit</code>/<code>slots</code> 提供完整类型。</li><li>正例：<div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt;()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> emit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineEmits</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;submitted&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ok</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt;()</span></span></code></pre></div></li></ul><hr><h2 id="附录-a-统一检查清单-合并版" tabindex="-1">附录 A：统一检查清单（合并版） <a class="header-anchor" href="#附录-a-统一检查清单-合并版" aria-label="Permalink to &quot;附录 A：统一检查清单（合并版）&quot;">​</a></h2><ul><li>[ ] 是否存在 <code>any</code>/<code>@ts-ignore</code> 可替换为更安全写法？</li><li>[ ] 对外导出是否均有入参/返回类型？</li><li>[ ] 可复用模型是否沉淀至 <code>src/types/**</code> 且命名规范？</li><li>[ ] Vue 组件的 <code>props/emit/slots</code> 是否类型完善？</li></ul><h2 id="附录-b-工具与规则映射" tabindex="-1">附录 B：工具与规则映射 <a class="header-anchor" href="#附录-b-工具与规则映射" aria-label="Permalink to &quot;附录 B：工具与规则映射&quot;">​</a></h2><ul><li>ESLint：<code>@typescript-eslint/no-explicit-any</code>、<code>consistent-type-imports</code>、<code>no-floating-promises</code>。</li><li>TSConfig：<code>strict: true</code>、<code>noImplicitAny: true</code>。</li><li>.cursorrules：固化“强类型、禁止 any、模型归档”的条目。</li></ul><h2 id="附录-c-项目内示例" tabindex="-1">附录 C：项目内示例 <a class="header-anchor" href="#附录-c-项目内示例" aria-label="Permalink to &quot;附录 C：项目内示例&quot;">​</a></h2><ul><li><code>src/api/system/user/profile.ts</code> 中的 <code>ProfileVO</code>、<code>UserProfileUpdateReqVO</code>。</li><li><code>src/views/Profile/components/BasicInfo.vue</code> 中表单 <code>FormRules</code> 类型化。</li></ul>`,31),n=[l];function h(p,r,o,d,k,c){return a(),s("div",null,n)}const g=i(t,[["render",h]]);export{y as __pageData,g as default};
