# æ„å»º VitePress ç«™ç‚¹å¹¶å°†å…¶éƒ¨ç½²åˆ° GitHub Pages çš„ç¤ºä¾‹å·¥ä½œæµç¨‹
#
name: Deploy VitePress site to Pages

on:
  # åœ¨é’ˆå¯¹ `main` åˆ†æ”¯çš„æ¨é€ä¸Šè¿è¡Œã€‚å¦‚æœä½ 
  # ä½¿ç”¨ `master` åˆ†æ”¯ä½œä¸ºé»˜è®¤åˆ†æ”¯ï¼Œè¯·å°†å…¶æ›´æ”¹ä¸º `master`
  push:
    branches: main

jobs:
  # æ„å»ºå·¥ä½œ
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0 # å¦‚æœæœªå¯ç”¨ lastUpdatedï¼Œåˆ™ä¸éœ€è¦
      # - uses: pnpm/action-setup@v2 # å¦‚æœä½¿ç”¨ pnpmï¼Œè¯·å–æ¶ˆæ³¨é‡Š
      # - uses: oven-sh/setup-bun@v1 # å¦‚æœä½¿ç”¨ Bunï¼Œè¯·å–æ¶ˆæ³¨é‡Š
      - name: Setup Pages
        uses: actions/configure-pages@v3
      - name: Install and Build with VitePress # ä¸‹è½½ä¾èµ– æ‰“åŒ…é¡¹ç›®
        run: |
          npm install 
          npm run docs:build

      - name: Deploy ğŸš€ # éƒ¨ç½²
        uses: JamesIves/github-pages-deploy-action@v4.3.3
        with:
          branch: main # éƒ¨ç½²åæäº¤åˆ°çš„åˆ†æ”¯
          folder: docs # è¿™é‡Œå¡«æ‰“åŒ…å¥½çš„ç›®å½•åç§°
